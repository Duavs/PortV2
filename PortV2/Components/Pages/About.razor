@page "/about"
@inject IJSRuntime _JS
<title>About Me</title>

<div class="full-width-container" style="display: flex; flex-wrap: nowrap; align-items: flex-start; justify-content: center; min-height: 100vh; color: #070707; gap: 40px;">
    <div style="flex: 0 0 500px; max-width: 500px; min-height: 100vh; position: sticky; top: 0; display: flex; justify-content: center; align-items: center; background-color: #cecece;">
       <img src="lib/images/profile.png" alt="Profile Picture" style="width: 100%; max-width: 350px; border-radius: 50%; border: 5px solid #626262; background-color:#626262;" />
    </div>
    <div @ref="scrollableDiv" @onscroll="OnScroll" style="flex: 1; max-width: 100%; overflow-y: auto; height: 100vh; padding: 40px; display: flex; flex-direction: column; gap: 30px;">
        <section>
            <h1 style="margin-bottom: 20px; padding-bottom: 8px; border-bottom: 2px solid #626262;">Education</h1>
            <h2 style="margin-bottom: 10px; margin-left: 20px; color: #555;">Senior High School</h2>
            <p style="margin-left: 20px; line-height: 1.6; padding-right: 20px; text-align: justify;">
                I attended senior high school from 2016 to 2017 under the Technical-Vocational-Livelihood (TVL) strand, specializing in Programming. 
                During my final year, I deepened my knowledge of programming and applied these skills to develop a system as part of the curriculum requirements. 
                I also successfully defended a capstone project, showcasing both my technical and problem-solving abilities.
            </p>
            <h2 style="margin-bottom: 10px; margin-left: 20px; color: #555;">College</h2>
            <p style="margin-left: 20px; line-height: 1.6; padding-right: 20px; text-align: justify;">
                I graduated with a Bachelor's degree in Information Technology from 2019 to 2023.
                During my studies, I built a strong foundation in core areas such as Data Structures and Algorithms, 
                object-oriented programming with Java, server-side development with Node.js, and working with both relational and unstructured databases like MongoDB. 
                <br/><br/>
                As part of my academic journey, I also completed my On-the-Job Training (OJT) at an IT company in Tacloban, where I worked as a programmer. 
                My primary responsibility was developing and maintaining web applications using CodeIgniter 3. This experience allowed me to apply classroom knowledge 
                in a real-world setting, strengthening my technical expertise and professional skills.
            </p>
            <hr/>
        </section>
        <section>
            <h1 style="margin-bottom: 10px;">Location</h1>
            <p style="margin-left: 20px; line-height: 1.6; padding-right: 20px; text-align: justify;">
                Currently, I am based in Hibucawan, Jaro, Leyte, Philippines.
            </p>
            <div style="width: 100%; height: 250px; border-radius: 12px; overflow: hidden;">
                
                <i class="bi bi-linkedin">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d10775.693978641779!2d124.76337881432718!3d11.222439100690123!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x33080989f1e70161%3A0xf071f0235cc8449c!2sHibucawan%2C%20Jaro%2C%20Leyte!5e1!3m2!1sen!2sph!4v1755608558462!5m2!1sen!2sph"
                            width="600"
                            height="450"
                            style="border:0;"
                            allowfullscreen="" 
                            loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade">
                    </iframe></i>
            </div>
            <hr/>
        </section>
        <section>
            <h1 style="margin-bottom: 10px;">Technologies</h1>
            <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-left: 20px;">
                <span style="padding: 8px 16px; border-radius: 20px; background-color: #512BD4; color: white; font-weight: bold;">.NET</span>
                <span style="padding: 8px 16px; border-radius: 20px; background-color: #00758F; color: white; font-weight: bold;">SQL</span>
                <span style="padding: 8px 16px; border-radius: 20px; background-color: #F7DF1E; color: black; font-weight: bold;">JavaScript</span>
                <span style="padding: 8px 16px; border-radius: 20px; background-color: #E34F26; color: white; font-weight: bold;">HTML</span>
                <span style="padding: 8px 16px; border-radius: 20px; background-color: #7952B3; color: white; font-weight: bold;">Bootstrap</span>
            </div>
        
            <h1 style="margin: 30px 0 10px;">Frameworks</h1>
            <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-left: 20px;">
                <span style="padding: 8px 16px; border-radius: 20px; background-color: #512BD4; color: white; font-weight: bold;">ASP.NET Core</span>
                <span style="padding: 8px 16px; border-radius: 20px; background-color: #178600; color: white; font-weight: bold;">Blazor</span>
                <span style="padding: 8px 16px; border-radius: 20px; background-color: #68217A; color: white; font-weight: bold;">Entity Framework</span>
                <span style="padding: 8px 16px; border-radius: 20px; background-color: #EE4323; color: white; font-weight: bold;">CodeIgniter 3</span>
                <span style="padding: 8px 16px; border-radius: 20px; background-color: #339933; color: white; font-weight: bold;">Node.js</span>
            </div>
        </section>
        <section>
            <h1 style="margin-bottom: 10px;">Social Media</h1>
            <div style="display: flex; gap: 20px;">
                <a href="https://www.linkedin.com/in/john-duavis/" target="_blank" style="text-decoration: none; padding: 10px 20px; background-color: #0A66C2; color: white; border-radius: 6px; font-weight: bold; display: flex; align-items: center;">
                    <i class="bi bi-linkedin" style="margin-right: 8px;"></i>LinkedIn
                </a>
                <a href="https://github.com/Duavs" target="_blank" style="text-decoration: none; padding: 10px 20px; background-color: #333; color: white; border-radius: 6px; font-weight: bold; display: flex; align-items: center;">
                    <i class="bi bi-github" style="margin-right: 8px;"></i>GitHub
                </a>
            </div>
        </section>
        @if (showScrollButton)
        {
            <button @onclick="ScrollToTop" id="scrollTop" style="position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; border: none; border-radius: 50%; background-color: #0A66C2; color: white; font-size: 24px; cursor: pointer; box-shadow: 0 4px 8px rgba(10,102,194,0.6); transition: box-shadow 0.3s ease, transform 0.3s ease; display: flex; align-items: center; justify-content: center;">
                <i class="bi bi-arrow-up"></i>
            </button>
        }
    </div>
</div>
@code {
    
    private ElementReference scrollableDiv;
    private bool showScrollButton = false;
    
    private async Task ScrollToTop()
    {
        await _JS.InvokeVoidAsync("scrollToTopOf", scrollableDiv);
    }

    private async Task OnScroll()
    {
        var scrollTop = await _JS.InvokeAsync<int>("getScrollTopOf", scrollableDiv);
        bool shouldShow = scrollTop > 100;
        if (shouldShow != showScrollButton)
        {
            showScrollButton = shouldShow;
            StateHasChanged();
        }
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await _JS.InvokeVoidAsync("registerScrollListener", scrollableDiv, DotNetObjectReference.Create(this));
        }
    }

    [JSInvokable]
    public async Task OnScrollCallback()
    {
        await OnScroll();
    }

}